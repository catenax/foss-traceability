## Prevent cross-site scripting (XSS)

Cross-site scripting(XSS) enables attackers to inject malicious code into web pages.
Angular treats all values as untrusted by default to block XSS bugs.
When a value is inserted into the DOM from a template, via property, attribute, style, class binding or interpolation, Angular sanitizes and escapes untrusted values.

Sanitization is the inspection of an untrusted value, turning it into a value that’s safe to insert into the DOM.
In many cases, sanitization doesn't change a value at all.
Sanitization actually depends on context: a value that’s harmless in CSS can be potentially dangerous in a URL.

Angular defines the following security contexts:

- <strong>HTML</strong> is used when interpreting a value as HTML, for example, when binding to innerHTML.
- <strong>Style</strong> is used when binding CSS into style property.
- <strong>URL</strong> is used for URL properties, such as link hrefs.
- <strong>Resource URL</strong> is a URL that will be loaded and executed as code, for example, in scripts.

<strong>Best practice #1: </strong>
use interpolation ({{}}) to safely encode potentially dangerous characters and escape untrusted HTML and CSS expressions within a template expression.

## Use innerHTML with caution or don't use it at all

<strong>Best practice #2: </strong> If you must dynamically add HTML to a component, bind its generation to [innerHTML].
This ensures data will be interpreted as HTML in its context and sanitized, removing all unsafe tags and hence preventing it from executing any malicious cross-site scripting code.
Notice the action of sanitizing is not the same as encoding.

## Never use templates generated by concatenating user input

<strong>Best practice #3: </strong>Never concatenate any potentially user provided input as a string to a template.

You should avoid this:

````typescript
@Component({
  template: `
    <div class="detail">
        <h4>{{data.headline}}</h4>
        {{data.body}}
    </div>
  ` + potentialUserInput
})
export class HeroComponent {
    @Input() data: Hero;
}
````

## Avoid template engines on server-side templates

<strong>Best practice #5: </strong> Avoid 3rd party template engines to create or add templates data on Angular server-side rendered applications.

## Scan your Angular project for components which introduce security vulnerabilities

<strong>Best practice #6: </strong>Always scan your Angular project open source dependencies and Angular components for security vulnerabilities. You could use 'npm audit' to scan your dependencies.

## Block HTTP-related vulnerabilities

There are two HTTP vulnerabilities that affect any Angular application: cross-site request forgery (CSRF or XSRF) and cross-site script inclusion (XSSI).
But Angular has built-in helpers to prevent them at client-side itself.

### Cross-site request forgery

<strong>Best practice #7: </strong> To avoid such forgeries, applications must ensure the origin of any request, which requires both server-level and client-level security.
The most common and effective technique is sending an authentication token in a cookie using the server.

### Cross-site script inclusion (XSSI)

<strong>Best practice #8: </strong>Use Angular's HttpClient library to prevent the inclusion of vulnerable scripts in your application.
The library recognizes this convention and automatically removes the string “)]}’,\n” from all responses before further parsing to make it non-executable.

## Stay updated with latest Angular library

Angular regularly updates its libraries, and this may fix security defects discovered in previous versions.
Check the Angular change log for security-related updates.
It’s best practice to upgrade your application with the latest version.

#### Source [SyncFusion](https://www.syncfusion.com/blogs/post/top-5-best-practices-angular-app-security.aspx).

## Docker scan

We scan the images for any potential vulnerabilities.
If you wish to change the criticality level please refer to the file `/helpers/convert4report.py`

You may find all the logic there. The build fails if those measures aren't met.
